!function(){if(window)if(window.location.ancestorOrigins){var e=t=>{const e=new URL(t).hostname.split(".");return e.slice(e[e.length-1].length<3&&e[e.length-2].length<3?-3:-2).join(".")};for(let t=0;t<window.location.ancestorOrigins.length;++t)if(window.location.ancestorOrigins[t]!=window.location.origin&&e(window.location.ancestorOrigins[t])!=e(window.location.origin))return}else if(window.top!=window||window.parent!=window)return;const p=(""+Math.random()).substring(2,20),y=window.BroadcastChannel?new BroadcastChannel(p):window;let o;y.addEventListener("message",function(t){t.source&&t.source!==window||t.data.nonce!=p||"to"!=t.data.dir||chrome.runtime.sendMessage(t.data,t=>{t&&t.nonce==p&&"from"==t.dir&&y.postMessage(t,"*")})}),chrome.runtime.onMessage.addListener((t,e,o)=>{if("from"==t.dir)"tabchange"==t.method&&t.selected?localStorage["rtchelp:tabex"]=t.selected:(t.nonce=p,y.postMessage(t,"*")),"onusercontrols"!=t.method&&"oncpuperformance"!=t.method||o({});else if("content"==t.dir){if("toggle"==t.method&&window.top===window)try{var r=t.data.domain,s=t.data.float,n=t.data.restore,c=t.data.side;if(u){if(u=!1,g){var i=g;if(g=null,document.body.removeChild(i),!s){const d=h[window.location.origin];d?d.remove():(document.body.style.removeProperty("padding-right"),document.body.style.removeProperty("padding-left"),document.body.style.removeProperty("padding-top"),document.body.style.removeProperty("padding-bottom"),document.body.style.removeProperty("max-width"),document.body.style.removeProperty("max-height"),document.body.style.removeProperty("box-sizing"))}i.mover&&document.body.removeChild(i.mover)}delete localStorage["rtchelp:tabex"]}else{console.log(`toggle(${r}, ${s}, ${n}, ${c})`),u=!0;const l=g=document.createElement("iframe");i={position:"fixed","z-index":"2147483647",right:"0px",top:"0px",bottom:"0px",height:"100%",width:b+"px","box-sizing":"border-box",border:"none","border-left":"1px solid lightgrey","background-color":"white"};if(c&&("left"==c?Object.assign(i,{right:void 0,left:"0px","border-left":void 0,"border-right":"1px solid lightgrey"}):"bottom"==c&&Object.assign(i,{right:void 0,top:void 0,bottom:"0px",height:f+"px",width:"100%","border-left":void 0,"border-top":"1px solid lightgrey"})),Object.entries(i).filter(t=>void 0!==t[1]).forEach(t=>l.style.setProperty(t[0],t[1],"important")),!s){const a=h[window.location.origin];a?a.add(b):("left"==c?(document.body.style.setProperty("padding-left",b+"px","important"),document.body.style.setProperty("max-width",`calc(100% - ${b}px)`,"important")):"bottom"==c?(document.body.style.setProperty("padding-bottom",f+"px","important"),document.body.style.setProperty("max-height",`calc(100% - ${f}px)`,"important")):(document.body.style.setProperty("padding-right",b+"px","important"),document.body.style.setProperty("max-width",`calc(100% - ${b}px)`,"important")),document.body.style.setProperty("box-sizing","content-box","important"))}l.src="chrome-extension://"+chrome.runtime.id+"/options/index.html?nonce="+p,l.onload=()=>{const t={nonce:p,options:{type:"select",domain:r}};if(chrome.runtime.sendMessage(t),n){var e=localStorage["rtchelp:tabex"];if(e){const t={nonce:p,options:{type:"setTab",selected:e}};chrome.runtime.sendMessage(t)}}else delete localStorage["rtchelp:tabex"]},document.body.appendChild(l);const m=l.mover=document.createElement("div");i={position:"fixed","z-index":"2147483647",right:b+"px",top:"0px",bottom:"0px",width:"1px",cursor:"col-resize"};"left"==c?Object.assign(i,{right:void 0,left:b+"px"}):"bottom"==c&&Object.assign(i,{right:void 0,bottom:f+"px",top:void 0,left:"0px",right:"0px",width:void 0,height:"1px",cursor:"row-resize"}),Object.entries(i).filter(t=>void 0!==t[1]).forEach(t=>m.style.setProperty(t[0],t[1],"important")),document.body.appendChild(m),m.onmousedown=t=>{t.stopImmediatePropagation(),t.preventDefault();const r=t.currentTarget,n=(r.style.setProperty("background-color","black","important"),"bottom"==c?t.clientY:t.clientX);"bottom"==c?r.offsetTop:r.offsetLeft;const i="bottom"==c?l.offsetHeight:l.offsetWidth,d=(document.body.style.setProperty("cursor","bottom"==c?"row-resize":"col-resize","important"),l.style.setProperty("pointer-events","none","important"),t=>{var e="bottom"==c?t.clientY:t.clientX,e="left"==c?Math.max(240,e):Math.max(240,i-e+n);if(r.style.setProperty(c||"right",e+"px","important"),"mouseup"==t.type){if(l.style.setProperty("bottom"==c?"height":"width",e+"px","important"),document.body.style.removeProperty("cursor"),r.style.removeProperty("background-color"),l.style.removeProperty("pointer-events"),!s){const o=h[window.location.origin];o?o.add(l.offsetWidth):("left"==c?(document.body.style.setProperty("padding-left",l.offsetWidth+"px","important"),document.body.style.setProperty("max-width",`calc(100% - ${l.offsetWidth}px)`,"important")):"bottom"==c?(document.body.style.setProperty("padding-bottom",l.offsetHeight+"px","important"),document.body.style.setProperty("max-height",`calc(100% - ${l.offsetHeight}px)`,"important")):(document.body.style.setProperty("padding-right",l.offsetWidth+"px","important"),document.body.style.setProperty("max-width",`calc(100% - ${l.offsetWidth}px)`,"important")),document.body.style.setProperty("box-sizing","content-box","important"))}document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",d)}});return document.addEventListener("mousemove",d),document.addEventListener("mouseup",d),!1}}}catch(t){console.error("exception",t)}}else"devtools"==t.dir&&"getnonce"==t.method&&o({nonce:p})});const h={"https://meet.google.com":{add:function(t){document.body.style.setProperty("position","absolute"),document.body.style.setProperty("right",t+"px"),document.body.style.setProperty("left","0px"),document.body.style.setProperty("width","auto"),[...document.querySelectorAll("body div")].filter(t=>"fixed"===getComputedStyle(t).position).forEach(t=>{t.style.position="absolute"}),[...document.querySelectorAll("[style]")].filter(t=>0<=t.getAttribute("style").indexOf("width")).forEach(t=>{t.style.maxWidth="100%"});const e=window.innerWidth+"px";[...document.querySelectorAll("body *")].filter(t=>getComputedStyle(t).width===e).forEach(t=>{t.style.width="100%"})},remove:function(){document.body.style.removeProperty("position"),document.body.style.removeProperty("left"),document.body.style.removeProperty("right"),document.body.style.removeProperty("width")}}};let u=!1,g=null;const b=510,f=400;chrome.storage.local.get(t=>{var e;t.settings&&(t.settings.strict&&(o=t.settings.strict,e={dir:"from",method:"setstrict",nonce:p,value:o},y.postMessage(e,"*")),t.settings.savestats&&(e=t.settings.savestats,t={dir:"from",method:"setsavestats",nonce:p,value:e},y.postMessage(t,"*")))});var t,r,n="chrome-extension://"+chrome.runtime.id+"/res";2<chrome.runtime.getManifest().manifest_version?(document.querySelector("html").setAttribute("rtchelper-nonce",p),document.querySelector("html").setAttribute("rtchelper-respath",n),window._rtchelper=!0):(t=document.createElement("script"),n="chrome-extension://"+chrome.runtime.id+"/res",r=window.BroadcastChannel?"new BroadcastChannel("+JSON.stringify(p)+")":"window",t.textContent="("+window._rtchelper_content.toString()+")("+r+","+JSON.stringify(p)+","+JSON.stringify(n)+", true); window._rtchelper = true;",(r=document.head||document.documentElement).insertBefore(t,r.firstChild),t.parentNode.removeChild(t))}();
